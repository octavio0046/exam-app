(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Lihs:function(t,i,e){"use strict";e.r(i),e.d(i,"LayoutModule",function(){return De});var o=e("ofXK"),s=e("tyNb"),r=e("1kSV"),n=e("3Pt+"),c=e("fXoL");function a(t,i,e,o){return new(e||(e=Promise))(function(s,r){function n(t){try{a(o.next(t))}catch(i){r(i)}}function c(t){try{a(o.throw(t))}catch(i){r(i)}}function a(t){var i;t.done?s(t.value):(i=t.value,i instanceof e?i:new e(function(t){t(i)})).then(n,c)}a((o=o.apply(t,i||[])).next())})}var b=e("tk/3");function l(){return new b.c({"Content-Type":"application/json"})}var d=e("lJxs");let m=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[o.b]]}),t})(),h=(()=>{class t{constructor(t){this.httpClient=t,this.mService="marcas",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),u=(()=>{class t{constructor(t){this.httpClient=t,this.mService="Departamentos",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),f=(()=>{class t{constructor(t){this.httpClient=t,this.mService="vehiculos",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),p=(()=>{class t{constructor(t){this.httpClient=t,this.mService="municipios",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),g=(()=>{class t{constructor(t){this.httpClient=t,this.mService="detalles",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXIdDetalle(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/detalle/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),v=(()=>{class t{constructor(t){this.httpClient=t,this.mService="cotizaciones",this.mUrl="http://3.128.135.7:3000/"}AllPage(t){return a(this,void 0,void 0,function*(){console.log("dat",t);const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService+"/todo",i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),R=(()=>{class t{constructor(t){this.httpClient=t,this.mService="concesionario",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),Q=(()=>{class t{constructor(t){this.httpClient=t,this.mService="clientes",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),C=(()=>{class t{constructor(t){this.httpClient=t,this.mService="agentes",this.mUrl="http://3.128.135.7:3000/"}AllPage(){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}New(t){return a(this,void 0,void 0,function*(){const i=JSON.stringify(t);return yield this.httpClient.post(this.mUrl+this.mService,i,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}AllXId(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.get(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Update(t,i){return a(this,void 0,void 0,function*(){const e=JSON.stringify(t);return yield this.httpClient.put(this.mUrl+this.mService+"/"+i,e,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}Delete(t){return a(this,void 0,void 0,function*(){return yield this.httpClient.delete(this.mUrl+this.mService+"/"+t,{headers:l()}).pipe(Object(d.a)(t=>t)).toPromise()})}}return t.\u0275fac=function(i){return new(i||t)(c.Yb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:m}),t})(),z=(()=>{class t{constructor(){}Estados(){return[{id:1,Nombre:"Activo"},{id:2,Nombre:"Inactivo"}]}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=e("5eHb");function E(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Rb(11,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.ver(s,e.id)}),c.Rb(12,"i",8),c.Bc(13," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"td"),c.Rb(15,"a",9),c.Rb(16,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.modificar(s,e.id)}),c.Bc(17,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"td"),c.Rb(19,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(20,"i",11),c.Bc(21," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Ec("",t.Nombres," ",t.Apellidos,""),c.zb(2),c.Cc(t.Telefono),c.zb(2),c.Cc(c.gc(9,5,t.Created_At,"dd/MM/yy"))}}function B(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nombres es requerido"),c.Qb())}function I(t,i){if(1&t&&(c.Rb(0,"div",37),c.zc(1,B,2,0,"div",38),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nombres.errors?null:t.f.Nombres.errors.required)}}function F(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Apellidos es requerido"),c.Qb())}function j(t,i){if(1&t&&(c.Rb(0,"div",37),c.zc(1,F,2,0,"div",38),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Apellidos.errors?null:t.f.Apellidos.errors.required)}}function S(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Telefono es requerido"),c.Qb())}function A(t,i){if(1&t&&(c.Rb(0,"div",37),c.zc(1,S,2,0,"div",38),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Telefono.errors?null:t.f.Telefono.errors.required)}}function N(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nacimiento es requerido"),c.Qb())}function M(t,i){if(1&t&&(c.Rb(0,"div",37),c.zc(1,N,2,0,"div",38),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nacimiento.errors?null:t.f.Nacimiento.errors.required)}}function k(t,i){if(1&t&&(c.Rb(0,"option",39),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function T(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function D(t,i){if(1&t&&(c.Rb(0,"div",37),c.zc(1,T,2,0,"div",38),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function P(t,i){if(1&t&&(c.Rb(0,"option",39),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Cc(t.Nombre)}}function O(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Concesionario es Requerido"),c.Qb())}function q(t,i){if(1&t&&(c.Rb(0,"div",37),c.zc(1,O,2,0,"div",38),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCConcesionarioId.errors.required)}}function w(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function L(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function V(t,i){if(1&t&&(c.Rb(0,"button",40),c.Mb(1,"i",41),c.zc(2,w,2,0,"span",38),c.zc(3,L,2,0,"span",38),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const x=function(t){return{"is-invalid":t}};function U(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Marcas"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Nombres"),c.Qb(),c.Mb(12,"input",21),c.zc(13,I,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Apellidos"),c.Qb(),c.Mb(17,"input",24),c.zc(18,j,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(19,"div",18),c.Rb(20,"div",19),c.Rb(21,"label",25),c.Bc(22,"Telefono"),c.Qb(),c.Mb(23,"input",26),c.zc(24,A,2,1,"div",22),c.Qb(),c.Rb(25,"div",19),c.Rb(26,"label",27),c.Bc(27,"Fecha de Nacimiento"),c.Qb(),c.Mb(28,"input",28),c.zc(29,M,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(30,"div",18),c.Rb(31,"div",19),c.Rb(32,"label",29),c.Bc(33,"Estado"),c.Qb(),c.Rb(34,"select",30),c.Rb(35,"option",31),c.Bc(36,"-- seleccione --"),c.Qb(),c.zc(37,k,2,2,"option",32),c.Qb(),c.zc(38,D,2,1,"div",22),c.Qb(),c.Rb(39,"div",19),c.Rb(40,"label",33),c.Bc(41,"Concesionario"),c.Qb(),c.Rb(42,"select",34),c.Rb(43,"option",31),c.Bc(44,"-- seleccione --"),c.Qb(),c.zc(45,P,2,2,"option",32),c.Qb(),c.zc(46,q,2,1,"div",22),c.Qb(),c.Qb(),c.Qb(),c.Rb(47,"div",35),c.zc(48,V,4,2,"button",36),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(16,x,t.submitted&&t.f.Nombres.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nombres.errors),c.zb(4),c.jc("ngClass",c.nc(18,x,t.submitted&&t.f.Apellidos.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Apellidos.errors),c.zb(5),c.jc("ngClass",c.nc(20,x,t.submitted&&t.f.Telefono.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Telefono.errors),c.zb(4),c.jc("ngClass",c.nc(22,x,t.submitted&&t.f.Nacimiento.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nacimiento.errors),c.zb(5),c.jc("ngClass",c.nc(24,x,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(4),c.jc("ngClass",c.nc(26,x,t.submitted&&t.f.TCConcesionarioId.errors)),c.zb(3),c.jc("ngForOf",t.mConcesionarios),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCConcesionarioId.errors),c.zb(2),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let $=(()=>{class t{constructor(t,i,e,o,s,r){this.modalService=t,this.service=i,this.formBuilder=e,this.toastr=o,this.state=s,this.serviceConcesionarios=r,this.submitted=!1,this.loading=!1,this.mConcesionarios=[],this.mForma=this.generarFormulario(),this.mAgentes=[],this.mAgentesSelect=class{static empy(){return{id:0,Telefono:"",TCConcesionarioId:0,Nombres:"",Apellidos:"",Nacimiento:"",Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll(),this.getAllConcesionarios()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Nombres:["",n.n.required],Apellidos:["",n.n.required],Telefono:["",n.n.required],Nacimiento:["",n.n.required],Estado:["",n.n.required],TCConcesionarioId:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Nombres:t[0].Nombres,Apellidos:t[0].Apellidos,Telefono:t[0].Telefono,Nacimiento:t[0].Nacimiento,Estado:t[0].Estado,TCConcesionarioId:t[0].Estado}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Agentes")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mAgentes=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Agentes"),this.loading=!1})}getAllConcesionarios(){this.loading=!0,this.serviceConcesionarios.AllPage().then(t=>{this.mConcesionarios=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Concesionarios"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mAgentesSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mAgentesSelect).then(t=>{this.toastr.success(t.message,"Agentes"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Agentes")})}actualizar(t){this.loading=!0,this.service.Update(this.mAgentesSelect,t).then(i=>{this.toastr.success(i.message,"Agentes"),this.getDismissReason(""),this.mAgentes=this.mAgentes.map(e=>e.id===t?i:e),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Agentes")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(i=>{this.toastr.success(i.message,"Agentes"),this.mAgentes=this.mAgentes.filter(i=>i.id!==t),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Agentes")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(C),c.Lb(n.b),c.Lb(y.b),c.Lb(z),c.Lb(R))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-agentes"]],decls:21,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Nombre"],["type","text","formControlName","Nombres","placeholder","Nombres",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","Apellidos"],["type","text","formControlName","Apellidos","placeholder","Apellidos",1,"form-control",3,"ngClass"],["for","Telefono"],["type","text","formControlName","Telefono","placeholder","Telefono",1,"form-control",3,"ngClass"],["for","Nacimiento"],["type","date","formControlName","Nacimiento","placeholder","Nacimiento",1,"form-control",3,"ngClass"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","TCConcesionarioId"],["name","Estado","formControlName","TCConcesionarioId",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(19);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Nombre"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Creado"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.zc(17,E,22,8,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(18,U,49,28,"ng-template",null,5,c.Ac)}2&t&&(c.zb(17),c.jc("ngForOf",i.mAgentes))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function X(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Rb(11,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.ver(s,e.id)}),c.Rb(12,"i",8),c.Bc(13," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"td"),c.Rb(15,"a",9),c.Rb(16,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.modificar(s,e.id)}),c.Bc(17,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"td"),c.Rb(19,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(20,"i",11),c.Bc(21," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Ec("",t.Nombres," ",t.Apellidos,""),c.zb(2),c.Cc(t.Telefono),c.zb(2),c.Cc(c.gc(9,5,t.Created_At,"dd/MM/yy"))}}function _(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nombres es requerido"),c.Qb())}function J(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,_,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nombres.errors?null:t.f.Nombres.errors.required)}}function G(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Apellidos es requerido"),c.Qb())}function K(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,G,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Apellidos.errors?null:t.f.Apellidos.errors.required)}}function H(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Telefono es requerido"),c.Qb())}function Y(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,H,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Telefono.errors?null:t.f.Telefono.errors.required)}}function W(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nacimiento es requerido"),c.Qb())}function Z(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,W,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nacimiento.errors?null:t.f.Nacimiento.errors.required)}}function tt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," EstadoCivil es requerido"),c.Qb())}function it(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,tt,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.EstadoCivil.errors?null:t.f.EstadoCivil.errors.required)}}function et(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Escolaridad es requerido"),c.Qb())}function ot(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,et,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Escolaridad.errors?null:t.f.Escolaridad.errors.required)}}function st(t,i){if(1&t&&(c.Rb(0,"option",43),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function rt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function nt(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,rt,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function ct(t,i){if(1&t&&(c.Rb(0,"option",43),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Cc(t.Nombre)}}function at(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Municipio es Requerido"),c.Qb())}function bt(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,at,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCMunicipioId.errors.required)}}function lt(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function dt(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function mt(t,i){if(1&t&&(c.Rb(0,"button",44),c.Mb(1,"i",45),c.zc(2,lt,2,0,"span",42),c.zc(3,dt,2,0,"span",42),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const ht=function(t){return{"is-invalid":t}};function ut(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Marcas"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Nombres"),c.Qb(),c.Mb(12,"input",21),c.zc(13,J,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Apellidos"),c.Qb(),c.Mb(17,"input",24),c.zc(18,K,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(19,"div",18),c.Rb(20,"div",19),c.Rb(21,"label",25),c.Bc(22,"Telefono"),c.Qb(),c.Mb(23,"input",26),c.zc(24,Y,2,1,"div",22),c.Qb(),c.Rb(25,"div",19),c.Rb(26,"label",27),c.Bc(27,"Fecha de Nacimiento"),c.Qb(),c.Mb(28,"input",28),c.zc(29,Z,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(30,"div",18),c.Rb(31,"div",19),c.Rb(32,"label",29),c.Bc(33,"Estado Civil"),c.Qb(),c.Mb(34,"input",30),c.zc(35,it,2,1,"div",22),c.Qb(),c.Rb(36,"div",19),c.Rb(37,"label",31),c.Bc(38,"Escolaridad"),c.Qb(),c.Mb(39,"input",32),c.zc(40,ot,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(41,"div",18),c.Rb(42,"div",19),c.Rb(43,"label",33),c.Bc(44,"Estado"),c.Qb(),c.Rb(45,"select",34),c.Rb(46,"option",35),c.Bc(47,"-- seleccione --"),c.Qb(),c.zc(48,st,2,2,"option",36),c.Qb(),c.zc(49,nt,2,1,"div",22),c.Qb(),c.Rb(50,"div",19),c.Rb(51,"label",37),c.Bc(52,"Municipios"),c.Qb(),c.Rb(53,"select",38),c.Rb(54,"option",35),c.Bc(55,"-- seleccione --"),c.Qb(),c.zc(56,ct,2,2,"option",36),c.Qb(),c.zc(57,bt,2,1,"div",22),c.Qb(),c.Qb(),c.Qb(),c.Rb(58,"div",39),c.zc(59,mt,4,2,"button",40),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(20,ht,t.submitted&&t.f.Nombres.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nombres.errors),c.zb(4),c.jc("ngClass",c.nc(22,ht,t.submitted&&t.f.Apellidos.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Apellidos.errors),c.zb(5),c.jc("ngClass",c.nc(24,ht,t.submitted&&t.f.Telefono.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Telefono.errors),c.zb(4),c.jc("ngClass",c.nc(26,ht,t.submitted&&t.f.Nacimiento.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nacimiento.errors),c.zb(5),c.jc("ngClass",c.nc(28,ht,t.submitted&&t.f.EstadoCivil.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.EstadoCivil.errors),c.zb(4),c.jc("ngClass",c.nc(30,ht,t.submitted&&t.f.Escolaridad.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Escolaridad.errors),c.zb(5),c.jc("ngClass",c.nc(32,ht,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(4),c.jc("ngClass",c.nc(34,ht,t.submitted&&t.f.TCMunicipioId.errors)),c.zb(3),c.jc("ngForOf",t.mMunicipios),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCMunicipioId.errors),c.zb(2),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let ft=(()=>{class t{constructor(t,i,e,o,s,r){this.modalService=t,this.service=i,this.formBuilder=e,this.toastr=o,this.state=s,this.serviceMunicipios=r,this.submitted=!1,this.loading=!1,this.mMunicipios=[],this.mForma=this.generarFormulario(),this.mClientes=[],this.mClientesSelect=class{static empy(){return{id:0,Telefono:"",TCMunicipioId:0,Nombres:"",Apellidos:"",Nacimiento:"",EstadoCivil:"",Escolaridad:"",Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll(),this.getAllMunicipios()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Nombres:["",n.n.required],Apellidos:["",n.n.required],Telefono:["",n.n.required],Nacimiento:["",n.n.required],EstadoCivil:["",n.n.required],Escolaridad:["",n.n.required],Estado:["",n.n.required],TCMunicipioId:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Nombres:t[0].Nombres,Apellidos:t[0].Apellidos,Telefono:t[0].Telefono,Nacimiento:t[0].Nacimiento,EstadoCivil:t[0].EstadoCivil,Escolaridad:t[0].Escolaridad,Estado:t[0].Estado,TCMunicipioId:t[0].TCMunicipioId}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Clientes")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mClientes=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Clientes"),this.loading=!1})}getAllMunicipios(){this.loading=!0,this.serviceMunicipios.AllPage().then(t=>{this.mMunicipios=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Municipios"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mClientesSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mClientesSelect).then(t=>{this.toastr.success(t.message,"Clientes"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Clientes")})}actualizar(t){this.loading=!0,this.service.Update(this.mClientesSelect,t).then(t=>{this.toastr.success(t.message,"Clientes"),this.getDismissReason(""),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Clientes")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(t=>{this.toastr.success(t.message,"Clientes"),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Clientes")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(Q),c.Lb(n.b),c.Lb(y.b),c.Lb(z),c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-clientes"]],decls:21,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Nombre"],["type","text","formControlName","Nombres","placeholder","Nombres",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","Apellidos"],["type","text","formControlName","Apellidos","placeholder","Apellidos",1,"form-control",3,"ngClass"],["for","Telefono"],["type","text","formControlName","Telefono","placeholder","Telefono",1,"form-control",3,"ngClass"],["for","Nacimiento"],["type","date","formControlName","Nacimiento","placeholder","Nacimiento",1,"form-control",3,"ngClass"],["for","EstadoCivil"],["type","text","formControlName","EstadoCivil","placeholder","EstadoCivil",1,"form-control",3,"ngClass"],["for","Escolaridad"],["type","text","formControlName","Escolaridad","placeholder","Escolaridad",1,"form-control",3,"ngClass"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","TCMunicipioId"],["name","Estado","formControlName","TCMunicipioId",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(19);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Nombre"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Creado"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.zc(17,X,22,8,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(18,ut,60,36,"ng-template",null,5,c.Ac)}2&t&&(c.zb(17),c.jc("ngForOf",i.mClientes))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function pt(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Rb(11,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.ver(s,e.id)}),c.Rb(12,"i",8),c.Bc(13," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"td"),c.Rb(15,"a",9),c.Rb(16,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.modificar(s,e.id)}),c.Bc(17,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"td"),c.Rb(19,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(20,"i",11),c.Bc(21," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Cc(t.Nombre),c.zb(2),c.Cc(t.Estado),c.zb(2),c.Cc(c.gc(9,4,t.Created_At,"dd/MM/yy"))}}function gt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nombre es requerido"),c.Qb())}function vt(t,i){if(1&t&&(c.Rb(0,"div",33),c.zc(1,gt,2,0,"div",34),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nombre.errors?null:t.f.Nombre.errors.required)}}function Rt(t,i){if(1&t&&(c.Rb(0,"option",35),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Cc(t.Nombre)}}function Qt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Municipio es Requerido"),c.Qb())}function Ct(t,i){if(1&t&&(c.Rb(0,"div",33),c.zc(1,Qt,2,0,"div",34),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCMunicipioId.errors.required)}}function zt(t,i){if(1&t&&(c.Rb(0,"option",35),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function yt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function Et(t,i){if(1&t&&(c.Rb(0,"div",33),c.zc(1,yt,2,0,"div",34),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function Bt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Razon es requerido"),c.Qb())}function It(t,i){if(1&t&&(c.Rb(0,"div",33),c.zc(1,Bt,2,0,"div",34),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Razon.errors?null:t.f.Razon.errors.required)}}function Ft(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function jt(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function St(t,i){if(1&t&&(c.Rb(0,"button",36),c.Mb(1,"i",37),c.zc(2,Ft,2,0,"span",34),c.zc(3,jt,2,0,"span",34),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const At=function(t){return{"is-invalid":t}};function Nt(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Concesionario"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Nombre"),c.Qb(),c.Mb(12,"input",21),c.zc(13,vt,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Municipios"),c.Qb(),c.Rb(17,"select",24),c.Rb(18,"option",25),c.Bc(19,"-- seleccione --"),c.Qb(),c.zc(20,Rt,2,2,"option",26),c.Qb(),c.zc(21,Ct,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(22,"div",18),c.Rb(23,"div",19),c.Rb(24,"label",27),c.Bc(25,"Estado"),c.Qb(),c.Rb(26,"select",28),c.Rb(27,"option",25),c.Bc(28,"-- seleccione --"),c.Qb(),c.zc(29,zt,2,2,"option",26),c.Qb(),c.zc(30,Et,2,1,"div",22),c.Qb(),c.Rb(31,"div",19),c.Rb(32,"label",29),c.Bc(33,"Razon"),c.Qb(),c.Mb(34,"input",30),c.zc(35,It,2,1,"div",22),c.Qb(),c.Qb(),c.Mb(36,"div",18),c.Qb(),c.Rb(37,"div",31),c.zc(38,St,4,2,"button",32),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(12,At,t.submitted&&t.f.Nombre.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nombre.errors),c.zb(4),c.jc("ngClass",c.nc(14,At,t.submitted&&t.f.TCMunicipioId.errors)),c.zb(3),c.jc("ngForOf",t.mMunicipios),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCMunicipioId.errors),c.zb(5),c.jc("ngClass",c.nc(16,At,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(4),c.jc("ngClass",c.nc(18,At,t.submitted&&t.f.Razon.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Razon.errors),c.zb(3),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let Mt=(()=>{class t{constructor(t,i,e,o,s,r){this.modalService=t,this.service=i,this.serviceMunicipios=e,this.formBuilder=o,this.toastr=s,this.state=r,this.submitted=!1,this.loading=!1,this.mMunicipios=[],this.mForma=this.generarFormulario(),this.mConcesionario=[],this.mConcesionarioSelect=class{static empy(){return{id:0,Nombre:"",TCMunicipioId:0,Razon:"",Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll(),this.getAllMunicipios()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Nombre:["",n.n.required],Razon:["",n.n.required],Estado:["",n.n.required],TCMunicipioId:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Nombre:t[0].Nombre,Razon:t[0].Razon,TCMunicipioId:t[0].Razon,Estado:t[0].Estado}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Concesionario")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mConcesionario=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Concesionario"),this.loading=!1})}getAllMunicipios(){this.loading=!0,this.serviceMunicipios.AllPage().then(t=>{this.mMunicipios=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Municipios"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mConcesionarioSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mConcesionarioSelect).then(t=>{this.toastr.success(t.message,"Concesionario"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Concesionario")})}actualizar(t){this.loading=!0,this.service.Update(this.mConcesionarioSelect,t).then(t=>{this.toastr.success(t.message,"Concesionario"),this.getDismissReason(""),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Concesionario")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(i=>{this.toastr.success(i.message,"Concesionario"),this.mConcesionario=this.mConcesionario.filter(i=>i.id!==t),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Concesionario")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(R),c.Lb(p),c.Lb(n.b),c.Lb(y.b),c.Lb(z))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-concesionario"]],decls:21,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Nombre"],["type","text","formControlName","Nombre","placeholder","David",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","TCMunicipioId"],["name","Estado","formControlName","TCMunicipioId",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["for","Razon"],["type","text","formControlName","Razon","placeholder","Razon",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(19);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Nombre"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Creado"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.zc(17,pt,22,7,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(18,Nt,39,20,"ng-template",null,5,c.Ac)}2&t&&(c.zb(17),c.jc("ngForOf",i.mConcesionario))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function kt(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",17),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Bc(11),c.Qb(),c.Rb(12,"td"),c.Bc(13),c.ec(14,"date"),c.Qb(),c.Rb(15,"td"),c.Rb(16,"a",18),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().detalle(e.id)}),c.Rb(17,"i",19),c.Bc(18," Detalle"),c.Qb(),c.Qb(),c.Qb(),c.Rb(19,"td"),c.Rb(20,"a",18),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(44);return o.ver(s,e.id)}),c.Rb(21,"i",20),c.Bc(22," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(23,"td"),c.Rb(24,"a",21),c.Rb(25,"i",22),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(44);return o.modificar(s,e.id)}),c.Bc(26,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(27,"td"),c.Rb(28,"a",18),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(29,"i",23),c.Bc(30," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Cc(t.Agente),c.zb(2),c.Cc(t.Cliente),c.zb(2),c.Cc(c.gc(9,6,t.Vencimiento,"dd/MM/yy")),c.zb(3),c.Cc(t.Estado),c.zb(2),c.Cc(c.gc(14,9,t.Created_At,"dd/MM/yy"))}}function Tt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Vencimiento es requerido"),c.Qb())}function Dt(t,i){if(1&t&&(c.Rb(0,"div",43),c.zc(1,Tt,2,0,"div",44),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Vencimiento.errors?null:t.f.Vencimiento.errors.required)}}function Pt(t,i){if(1&t&&(c.Rb(0,"option",45),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Ec("",t.Nombres," ",t.Apellidos,"")}}function Ot(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Agente es Requerido"),c.Qb())}function qt(t,i){if(1&t&&(c.Rb(0,"div",43),c.zc(1,Ot,2,0,"div",44),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCAgenteId.errors.required)}}function wt(t,i){if(1&t&&(c.Rb(0,"option",45),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Ec("",t.Nombres,"",t.Apellidos,"")}}function Lt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Cliente es Requerido"),c.Qb())}function Vt(t,i){if(1&t&&(c.Rb(0,"div",43),c.zc(1,Lt,2,0,"div",44),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCClienteId.errors.required)}}function xt(t,i){if(1&t&&(c.Rb(0,"option",45),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function Ut(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function $t(t,i){if(1&t&&(c.Rb(0,"div",43),c.zc(1,Ut,2,0,"div",44),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function Xt(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function _t(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function Jt(t,i){if(1&t&&(c.Rb(0,"button",46),c.Mb(1,"i",47),c.zc(2,Xt,2,0,"span",44),c.zc(3,_t,2,0,"span",44),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const Gt=function(t){return{"is-invalid":t}};function Kt(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",1),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",24),c.Rb(2,"h4",25),c.Bc(3,"Marcas"),c.Qb(),c.Rb(4,"button",26),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",27),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",28),c.Rb(8,"div",29),c.Rb(9,"div",3),c.Rb(10,"label",30),c.Bc(11,"Vencimiento"),c.Qb(),c.Mb(12,"input",31),c.zc(13,Dt,2,1,"div",32),c.Qb(),c.Rb(14,"div",3),c.Rb(15,"label",33),c.Bc(16,"Agentes"),c.Qb(),c.Rb(17,"select",34),c.Rb(18,"option",35),c.Bc(19,"-- seleccione --"),c.Qb(),c.zc(20,Pt,2,3,"option",36),c.Qb(),c.zc(21,qt,2,1,"div",32),c.Qb(),c.Qb(),c.Rb(22,"div",29),c.Rb(23,"div",3),c.Rb(24,"label",37),c.Bc(25,"Cliente"),c.Qb(),c.Rb(26,"select",38),c.Rb(27,"option",35),c.Bc(28,"-- seleccione --"),c.Qb(),c.zc(29,wt,2,3,"option",36),c.Qb(),c.zc(30,Vt,2,1,"div",32),c.Qb(),c.Rb(31,"div",3),c.Rb(32,"label",39),c.Bc(33,"Estado"),c.Qb(),c.Rb(34,"select",40),c.Rb(35,"option",35),c.Bc(36,"-- seleccione --"),c.Qb(),c.zc(37,xt,2,2,"option",36),c.Qb(),c.zc(38,$t,2,1,"div",32),c.Qb(),c.Qb(),c.Qb(),c.Rb(39,"div",41),c.zc(40,Jt,4,2,"button",42),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(13,Gt,t.submitted&&t.f.Vencimiento.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Vencimiento.errors),c.zb(4),c.jc("ngClass",c.nc(15,Gt,t.submitted&&t.f.TCAgenteId.errors)),c.zb(3),c.jc("ngForOf",t.mAgentes),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCAgenteId.errors),c.zb(5),c.jc("ngClass",c.nc(17,Gt,t.submitted&&t.f.TCClienteId.errors)),c.zb(3),c.jc("ngForOf",t.mClientes),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCClienteId.errors),c.zb(4),c.jc("ngClass",c.nc(19,Gt,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(2),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let Ht=(()=>{class t{constructor(t,i,e,o,s,r,n,c){this.modalService=t,this.service=i,this.serviceAgentes=e,this.serviceClientess=o,this.formBuilder=s,this.toastr=r,this.state=n,this.router=c,this.post={startDate:new Date(Date.now()),endDate:new Date(Date.now())},this.submitted=!1,this.submitted2=!1,this.loading=!1,this.mAgentes=[],this.mClientes=[],this.mForma=this.generarFormulario(),this.mForma2=this.generarFormulario2(),this.mCotizaciones=[],this.mCotizacionesSelect=class{static empy(){return{id:0,Agente:"",Cliente:"",TCAgenteId:0,TCClienteId:0,Vencimiento:"",Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0,this.mVentasFechaSelect=[]}ngOnInit(){this.getAllAgentes(),this.getAllClientess(),this.onSubmit2()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Vencimiento:["",n.n.required],TCAgenteId:["",n.n.required],TCClienteId:["",n.n.required],Estado:["",n.n.required]})}generarFormulario2(){return this.formBuilder.group({FechaInicio:[Object(o.x)(this.post.startDate,"yyyy-MM-dd","en")],FechaFin:[Object(o.x)(this.post.endDate,"yyyy-MM-dd","en")]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}detalle(t){this.router.navigate(["/detalle",t],{skipLocationChange:!0})}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Vencimiento:t[0].Vencimiento,TCAgenteId:t[0].TCAgenteId,TCClienteId:t[0].TCClienteId,Estado:t[0].Estado}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Cotizaciones")})}getAll(){this.loading=!0,this.service.AllPage(this.mVentasFechaSelect).then(t=>{console.log(t),this.mCotizaciones=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Cotizaciones"),this.loading=!1})}getAllAgentes(){this.loading=!0,this.serviceAgentes.AllPage().then(t=>{this.mAgentes=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Agentes"),this.loading=!1})}getAllClientess(){this.loading=!0,this.serviceClientess.AllPage().then(t=>{this.mClientes=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Agentes"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mCotizacionesSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}onSubmit2(){this.submitted=!0,this.mForma2.invalid||(this.mVentasFechaSelect=this.mForma2.value,this.getAll())}guardar(){this.loading=!0,this.service.New(this.mCotizacionesSelect).then(t=>{this.toastr.success(t.message,"Cotizaciones"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Cotizaciones")})}actualizar(t){this.loading=!0,this.service.Update(this.mCotizacionesSelect,t).then(t=>{this.toastr.success(t.message,"Cotizaciones"),this.getDismissReason(""),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Cotizaciones")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(i=>{this.toastr.success(i.message,"Cotizaciones"),this.mCotizaciones=this.mCotizaciones.filter(i=>i.id!==t),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Cotizaciones")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(v),c.Lb(C),c.Lb(Q),c.Lb(n.b),c.Lb(y.b),c.Lb(z),c.Lb(s.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-cotizaciones"]],decls:46,vars:10,consts:[[1,"card-header"],[3,"formGroup","ngSubmit"],[1,"row","p-0"],[1,"col"],[1,"form-group","col"],["for","FechaInicio"],["type","date","formControlName","FechaInicio",1,"form-control",3,"value"],["for","FechaFin"],["type","date","formControlName","FechaFin",1,"form-control",3,"value"],["type","submit",1,"btn","btn-outline-primary","form-control"],[1,"fa","fa-search",2,"margin-left","5px"],["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Detalle",1,"fa","fa-eye"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],["for","Nombre"],["type","date","formControlName","Vencimiento","placeholder","Vencimiento",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","TCAgenteId"],["name","Estado","formControlName","TCAgenteId",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","TCClienteId"],["name","Estado","formControlName","TCClienteId",1,"form-control",3,"ngClass"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"div",0),c.Rb(1,"form",1),c.bc("ngSubmit",function(){return i.onSubmit2()}),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"div",4),c.Rb(5,"label",5),c.Bc(6,"Inicio"),c.Qb(),c.Mb(7,"input",6),c.ec(8,"date"),c.Qb(),c.Qb(),c.Rb(9,"div",4),c.Rb(10,"label",7),c.Bc(11,"Fin"),c.Qb(),c.Mb(12,"input",8),c.ec(13,"date"),c.Qb(),c.Rb(14,"div",3),c.Rb(15,"label"),c.Bc(16,"."),c.Qb(),c.Rb(17,"button",9),c.Rb(18,"span"),c.Bc(19," Buscar "),c.Qb(),c.Mb(20,"i",10),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(21,"button",11),c.bc("click",function(){c.tc(t);const e=c.sc(44);return i.nuevo(e)}),c.Bc(22,"Crear"),c.Qb(),c.Rb(23,"div",12),c.Rb(24,"table",13),c.Rb(25,"thead"),c.Rb(26,"tr"),c.Rb(27,"th",14),c.Bc(28,"#"),c.Qb(),c.Rb(29,"th",14),c.Bc(30,"Agente Encargado"),c.Qb(),c.Rb(31,"th",14),c.Bc(32,"Cliente"),c.Qb(),c.Rb(33,"th",14),c.Bc(34,"Vencimiento"),c.Qb(),c.Rb(35,"th",14),c.Bc(36,"Estado"),c.Qb(),c.Rb(37,"th",14),c.Bc(38,"Creado"),c.Qb(),c.Rb(39,"th",14),c.Bc(40,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(41,"tbody"),c.zc(42,kt,31,12,"tr",15),c.Qb(),c.Qb(),c.Qb(),c.zc(43,Kt,41,21,"ng-template",null,16,c.Ac)}2&t&&(c.zb(1),c.jc("formGroup",i.mForma2),c.zb(6),c.kc("value",c.gc(8,4,i.post.startDate,"yyyy-MM-dd")),c.zb(5),c.kc("value",c.gc(13,7,i.post.endDate,"yyyy-MM-dd")),c.zb(30),c.jc("ngForOf",i.mCotizaciones))},directives:[n.o,n.i,n.d,n.a,n.h,n.c,o.l,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function Yt(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Rb(11,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.ver(s,e.id)}),c.Rb(12,"i",8),c.Bc(13," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"td"),c.Rb(15,"a",9),c.Rb(16,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.modificar(s,e.id)}),c.Bc(17,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"td"),c.Rb(19,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(20,"i",11),c.Bc(21," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Cc(t.Nombre),c.zb(2),c.Cc(t.Estado),c.zb(2),c.Cc(c.gc(9,4,t.Created_At,"dd/MM/yy"))}}function Wt(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nombre es requerido"),c.Qb())}function Zt(t,i){if(1&t&&(c.Rb(0,"div",29),c.zc(1,Wt,2,0,"div",30),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nombre.errors?null:t.f.Nombre.errors.required)}}function ti(t,i){if(1&t&&(c.Rb(0,"option",31),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function ii(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function ei(t,i){if(1&t&&(c.Rb(0,"div",29),c.zc(1,ii,2,0,"div",30),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function oi(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function si(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function ri(t,i){if(1&t&&(c.Rb(0,"button",32),c.Mb(1,"i",33),c.zc(2,oi,2,0,"span",30),c.zc(3,si,2,0,"span",30),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const ni=function(t){return{"is-invalid":t}};function ci(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Departamentos"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Nombre"),c.Qb(),c.Mb(12,"input",21),c.zc(13,Zt,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Estado"),c.Qb(),c.Rb(17,"select",24),c.Rb(18,"option",25),c.Bc(19,"-- seleccione --"),c.Qb(),c.zc(20,ti,2,2,"option",26),c.Qb(),c.zc(21,ei,2,1,"div",22),c.Qb(),c.Qb(),c.Mb(22,"div",18),c.Mb(23,"div",18),c.Qb(),c.Rb(24,"div",27),c.zc(25,ri,4,2,"button",28),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(7,ni,t.submitted&&t.f.Nombre.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nombre.errors),c.zb(4),c.jc("ngClass",c.nc(9,ni,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(4),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let ai=(()=>{class t{constructor(t,i,e,o,s){this.modalService=t,this.service=i,this.formBuilder=e,this.toastr=o,this.state=s,this.submitted=!1,this.loading=!1,this.mForma=this.generarFormulario(),this.mDepartamentos=[],this.mDepartamentosSelect=class{static empy(){return{id:0,Nombre:"",Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Nombre:["",n.n.required],Estado:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Nombre:t[0].Nombre,Estado:t[0].Estado}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message," Departamentos")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mDepartamentos=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message," Departamentos"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mDepartamentosSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mDepartamentosSelect).then(t=>{this.toastr.success(t.message," Departamentos"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message," Departamentos")})}actualizar(t){this.loading=!0,this.service.Update(this.mDepartamentosSelect,t).then(t=>{this.toastr.success(t.message," Departamentos"),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message," Departamentos")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(t=>{this.toastr.success(t.message," Departamentos"),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message," Departamentos")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(u),c.Lb(n.b),c.Lb(y.b),c.Lb(z))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-departamentos"]],decls:21,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Nombre"],["type","text","formControlName","Nombre","placeholder","David",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(19);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Nombre"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Creado"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.zc(17,Yt,22,7,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(18,ci,26,11,"ng-template",null,5,c.Ac)}2&t&&(c.zb(17),c.jc("ngForOf",i.mDepartamentos))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function bi(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.ec(5,"number"),c.Qb(),c.Rb(6,"td"),c.Bc(7),c.Qb(),c.Rb(8,"td"),c.Bc(9),c.Qb(),c.Rb(10,"td"),c.Bc(11),c.ec(12,"date"),c.Qb(),c.Rb(13,"td"),c.Rb(14,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(21);return o.ver(s,e.iddeta)}),c.Rb(15,"i",8),c.Bc(16," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(17,"td"),c.Rb(18,"a",9),c.Rb(19,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(21);return o.modificar(s,e.iddeta)}),c.Bc(20,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(21,"td"),c.Rb(22,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.iddeta)}),c.Rb(23,"i",11),c.Bc(24," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Fc("",t.Modelo," ",t.Tipo," ",t.Traccion," ",c.gc(5,9,t.Precio,"1.2-2")," ",t.Color," "),c.zb(3),c.Cc(t.Estado),c.zb(2),c.Cc(t.Descripcion),c.zb(2),c.Cc(c.gc(12,12,t.Created_At,"dd/MM/yy"))}}function li(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Descripcion es requerido"),c.Qb())}function di(t,i){if(1&t&&(c.Rb(0,"div",31),c.zc(1,li,2,0,"div",32),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Descripcion.errors?null:t.f.Descripcion.errors.required)}}function mi(t,i){if(1&t&&(c.Rb(0,"option",33),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function hi(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function ui(t,i){if(1&t&&(c.Rb(0,"div",31),c.zc(1,hi,2,0,"div",32),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function fi(t,i){if(1&t&&(c.Rb(0,"option",33),c.Bc(1),c.ec(2,"number"),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Fc("",t.Modelo," / ",c.gc(2,6,t.Precio,"1.2-2")," / ",t.Color," / ",t.Traccion," /",t.Tipo,"")}}function pi(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Vehiculo es Requerido"),c.Qb())}function gi(t,i){if(1&t&&(c.Rb(0,"div",31),c.zc(1,pi,2,0,"div",32),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCVehiculoId.errors.required)}}function vi(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function Ri(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function Qi(t,i){if(1&t&&(c.Rb(0,"button",34),c.Mb(1,"i",35),c.zc(2,vi,2,0,"span",32),c.zc(3,Ri,2,0,"span",32),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const Ci=function(t){return{"is-invalid":t}};function zi(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Marcas"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Descripcion"),c.Qb(),c.Rb(12,"textarea",21),c.Bc(13,"                     "),c.Qb(),c.zc(14,di,2,1,"div",22),c.Qb(),c.Rb(15,"div",19),c.Rb(16,"label",23),c.Bc(17,"Estado"),c.Qb(),c.Rb(18,"select",24),c.Rb(19,"option",25),c.Bc(20,"-- seleccione --"),c.Qb(),c.zc(21,mi,2,2,"option",26),c.Qb(),c.zc(22,ui,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(23,"div",18),c.Rb(24,"div",19),c.Rb(25,"label",27),c.Bc(26,"Vehiculo"),c.Qb(),c.Rb(27,"select",28),c.Rb(28,"option",25),c.Bc(29,"-- seleccione --"),c.Qb(),c.zc(30,fi,3,9,"option",26),c.Qb(),c.zc(31,gi,2,1,"div",22),c.Qb(),c.Qb(),c.Mb(32,"div",18),c.Qb(),c.Rb(33,"div",29),c.zc(34,Qi,4,2,"button",30),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(10,Ci,t.submitted&&t.f.Descripcion.errors)),c.zb(2),c.jc("ngIf",t.submitted&&t.f.Descripcion.errors),c.zb(4),c.jc("ngClass",c.nc(12,Ci,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(5),c.jc("ngClass",c.nc(14,Ci,t.submitted&&t.f.TCVehiculoId.errors)),c.zb(3),c.jc("ngForOf",t.mVehiculos),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCVehiculoId.errors),c.zb(3),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let yi=(()=>{class t{constructor(t,i,e,o,s,r,n){this.modalService=t,this.serviceDetalle=i,this.serviceVehiculos=e,this.routeAc=o,this.toastr=s,this.formBuilder=r,this.state=n,this.submitted=!1,this.loading=!1,this.mEstado=this.state.Estados(),this.id=0,this.mDetalles=[],this.mFormaEstado="4",this.mForma=this.generarFormulario(),this.Pkey=0,this.mVehiculos=[],this.mDetallesSelect=class{static empy(){return{id:0,TCVehiculoId:0,TCCotizacionId:0,Descripcion:"",Estado:"",Created_At:void 0}}}.empy()}ngOnInit(){this.getAllVehiculos(),this.id=this.routeAc.snapshot.params.id,this.id&&this.getDetallesXId()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Descripcion:["",n.n.required],TCVehiculoId:["",n.n.required],Estado:["",n.n.required]})}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mDetallesSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}actualizar(t){this.loading=!0,this.serviceDetalle.Update(this.mDetallesSelect,t).then(t=>{this.toastr.success(t.message,"Marcas"),this.getDismissReason(""),this.getDetallesXId(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Marcas")})}guardar(){this.loading=!0,this.mDetallesSelect.TCCotizacionId=this.id,this.serviceDetalle.New(this.mDetallesSelect).then(t=>{this.toastr.success(t.message,"Detalles"),this.mFormaEstado="4",this.getDetallesXId(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Detalles")})}eliminar(t){this.loading=!0,this.serviceDetalle.Delete(t).then(t=>{this.toastr.success(t.message,"Detalles"),this.getDetallesXId(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Detalles")})}getXId(t){this.loading=!0,this.serviceDetalle.AllXId(t).then(t=>{this.mForma.setValue({Descripcion:t[0].Descripcion,Estado:t[0].Estado,TCVehiculoId:t[0].TCVehiculoId}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Marcas")})}getDetallesXId(){this.serviceDetalle.AllXIdDetalle(this.id).then(t=>{this.mDetalles=t}).catch(t=>{this.toastr.error(t,"Detalles")})}getAllVehiculos(){this.loading=!0,this.serviceVehiculos.AllPage().then(t=>{this.mVehiculos=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Departamentos"),this.loading=!1})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(g),c.Lb(f),c.Lb(s.a),c.Lb(y.b),c.Lb(n.b),c.Lb(z))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-detallecotizaciones"]],decls:23,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Descripcion"],["type","text","formControlName","Descripcion","placeholder","David",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","TCVehiculoId"],["name","Estado","formControlName","TCVehiculoId",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(21);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Vehiculo"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Descripcion"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Creado"),c.Qb(),c.Rb(16,"th",3),c.Bc(17,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"tbody"),c.zc(19,bi,25,15,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(20,zi,35,16,"ng-template",null,5,c.Ac)}2&t&&(c.zb(19),c.jc("ngForOf",i.mDetalles))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.e,o.d],styles:[""]}),t})();const Ei=function(){return["marcas"]},Bi=function(){return["vehiculos"]},Ii=function(){return["departamentos"]},Fi=function(){return["clientes"]},ji=function(){return["concesionario"]},Si=function(){return["cotizaciones"]},Ai=function(){return["agentes"]},Ni=function(){return["municipios"]};let Mi=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-header"]],decls:50,vars:16,consts:[[1,"contaiber-fluid","sticky-top"],[1,"navbar","navbar-expand-lg","navbar-light","contenedor-alto-smart"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","ms-auto","pe-0"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"menu-link","nav-link","active-smart"],[1,"menu-link","text-white","nav-link",3,"routerLink"],[1,"d-flex","contenedor-buscador-smart"],["type","search","placeholder","","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-light","bg-white"],[1,"contenedor-iconos-smart"],["href","#",1,""],[1,"icono-user"],["data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo03","aria-controls","navbarTogglerDemo03","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","icono-carrito"],["id","navbarTogglerDemo03",1,"contenedor-carrito-smart","collapse","navbar-collapse"],["href","#",1,"titulo-carrito-smart"],[1,"subtitulo-carrito-smart"],["href","tel:+50377253687"],[1,"icono-movil"],["href","mailto:informacion@smartdevs.com.gt"],[1,"icono-correo"]],template:function(t,i){1&t&&(c.Rb(0,"div",0),c.Rb(1,"nav",1),c.Rb(2,"div",2),c.Mb(3,"button",3),c.Rb(4,"div",4),c.Rb(5,"ul",5),c.Rb(6,"li",6),c.Rb(7,"a",7),c.Bc(8,"Inicio"),c.Qb(),c.Qb(),c.Rb(9,"li",6),c.Rb(10,"a",8),c.Bc(11,"Marcas"),c.Qb(),c.Qb(),c.Rb(12,"li",6),c.Rb(13,"a",8),c.Bc(14,"Vehiculos"),c.Qb(),c.Qb(),c.Rb(15,"li",6),c.Rb(16,"a",8),c.Bc(17,"DePartamentos"),c.Qb(),c.Qb(),c.Rb(18,"li",6),c.Rb(19,"a",8),c.Bc(20,"Clientes"),c.Qb(),c.Qb(),c.Rb(21,"li",6),c.Rb(22,"a",8),c.Bc(23,"Concesionario"),c.Qb(),c.Qb(),c.Rb(24,"li",6),c.Rb(25,"a",8),c.Bc(26,"Cotizaciones"),c.Qb(),c.Qb(),c.Rb(27,"li",6),c.Rb(28,"a",8),c.Bc(29,"Agentes"),c.Qb(),c.Qb(),c.Rb(30,"li",6),c.Rb(31,"a",8),c.Bc(32,"Municipios"),c.Qb(),c.Qb(),c.Qb(),c.Rb(33,"form",9),c.Mb(34,"input",10),c.Rb(35,"button",11),c.Bc(36,"Buscar"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(37,"div",12),c.Rb(38,"div",13),c.Mb(39,"i",14),c.Qb(),c.Rb(40,"div",15),c.Rb(41,"div",16),c.Rb(42,"a",17),c.Bc(43,"Carrito"),c.Qb(),c.Rb(44,"p",18),c.Bc(45,"No hay productos en el carrito"),c.Qb(),c.Qb(),c.Qb(),c.Rb(46,"a",19),c.Mb(47,"i",20),c.Qb(),c.Rb(48,"a",21),c.Mb(49,"i",22),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(10),c.jc("routerLink",c.mc(8,Ei)),c.zb(3),c.jc("routerLink",c.mc(9,Bi)),c.zb(3),c.jc("routerLink",c.mc(10,Ii)),c.zb(3),c.jc("routerLink",c.mc(11,Fi)),c.zb(3),c.jc("routerLink",c.mc(12,ji)),c.zb(3),c.jc("routerLink",c.mc(13,Si)),c.zb(3),c.jc("routerLink",c.mc(14,Ai)),c.zb(3),c.jc("routerLink",c.mc(15,Ni)))},directives:[s.c,n.o,n.i,n.j],styles:[""]}),t})(),ki=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-layout"]],decls:6,vars:0,consts:[[1,"container","bg-white"],[1,"row","pb-5"],[1,"justify-content-sm-center","justify-content-center"]],template:function(t,i){1&t&&(c.Mb(0,"app-header"),c.Rb(1,"body"),c.Rb(2,"div",0),c.Rb(3,"div",1),c.Rb(4,"div",2),c.Mb(5,"router-outlet"),c.Qb(),c.Qb(),c.Qb(),c.Qb())},directives:[Mi,s.e],styles:[""]}),t})();function Ti(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Rb(11,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.ver(s,e.id)}),c.Rb(12,"i",8),c.Bc(13," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"td"),c.Rb(15,"a",9),c.Rb(16,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.modificar(s,e.id)}),c.Bc(17,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"td"),c.Rb(19,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(20,"i",11),c.Bc(21," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Cc(t.Nombre),c.zb(2),c.Cc(t.Estado),c.zb(2),c.Cc(c.gc(9,4,t.Created_At,"dd/MM/yy"))}}function Di(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nombre es requerido"),c.Qb())}function Pi(t,i){if(1&t&&(c.Rb(0,"div",29),c.zc(1,Di,2,0,"div",30),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nombre.errors?null:t.f.Nombre.errors.required)}}function Oi(t,i){if(1&t&&(c.Rb(0,"option",31),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function qi(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function wi(t,i){if(1&t&&(c.Rb(0,"div",29),c.zc(1,qi,2,0,"div",30),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function Li(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function Vi(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function xi(t,i){if(1&t&&(c.Rb(0,"button",32),c.Mb(1,"i",33),c.zc(2,Li,2,0,"span",30),c.zc(3,Vi,2,0,"span",30),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const Ui=function(t){return{"is-invalid":t}};function $i(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Marcas"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Nombre"),c.Qb(),c.Mb(12,"input",21),c.zc(13,Pi,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Estado"),c.Qb(),c.Rb(17,"select",24),c.Rb(18,"option",25),c.Bc(19,"-- seleccione --"),c.Qb(),c.zc(20,Oi,2,2,"option",26),c.Qb(),c.zc(21,wi,2,1,"div",22),c.Qb(),c.Qb(),c.Mb(22,"div",18),c.Mb(23,"div",18),c.Qb(),c.Rb(24,"div",27),c.zc(25,xi,4,2,"button",28),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(7,Ui,t.submitted&&t.f.Nombre.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nombre.errors),c.zb(4),c.jc("ngClass",c.nc(9,Ui,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(4),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let Xi=(()=>{class t{constructor(t,i,e,o,s){this.modalService=t,this.service=i,this.formBuilder=e,this.toastr=o,this.state=s,this.submitted=!1,this.loading=!1,this.mForma=this.generarFormulario(),this.mMarcas=[],this.mMarcasSelect=class{static empy(){return{id:0,Nombre:"",Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Nombre:["",n.n.required],Estado:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Nombre:t[0].Nombre,Estado:t[0].Estado}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Marcas")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mMarcas=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Marcas"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mMarcasSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mMarcasSelect).then(t=>{this.toastr.success(t.message,"Marcas"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Marcas")})}actualizar(t){this.loading=!0,this.service.Update(this.mMarcasSelect,t).then(t=>{this.toastr.success(t.message,"Marcas"),this.getDismissReason(""),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Marcas")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(t=>{this.toastr.success(t.message,"Marcas"),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Marcas")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(h),c.Lb(n.b),c.Lb(y.b),c.Lb(z))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-marcas"]],decls:21,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Nombre"],["type","text","formControlName","Nombre","placeholder","David",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(19);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Nombre"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Creado"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.zc(17,Ti,22,7,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(18,$i,26,11,"ng-template",null,5,c.Ac)}2&t&&(c.zb(17),c.jc("ngForOf",i.mMarcas))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function _i(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.Qb(),c.Rb(7,"td"),c.Bc(8),c.ec(9,"date"),c.Qb(),c.Rb(10,"td"),c.Rb(11,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.ver(s,e.id)}),c.Rb(12,"i",8),c.Bc(13," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"td"),c.Rb(15,"a",9),c.Rb(16,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(19);return o.modificar(s,e.id)}),c.Bc(17,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"td"),c.Rb(19,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(20,"i",11),c.Bc(21," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Cc(t.Nombre),c.zb(2),c.Cc(t.Estado),c.zb(2),c.Cc(c.gc(9,4,t.Created_At,"dd/MM/yy"))}}function Ji(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Nombre es requerido"),c.Qb())}function Gi(t,i){if(1&t&&(c.Rb(0,"div",31),c.zc(1,Ji,2,0,"div",32),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Nombre.errors?null:t.f.Nombre.errors.required)}}function Ki(t,i){if(1&t&&(c.Rb(0,"option",33),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Cc(t.Nombre)}}function Hi(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Departamento es Requerido"),c.Qb())}function Yi(t,i){if(1&t&&(c.Rb(0,"div",31),c.zc(1,Hi,2,0,"div",32),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCDepartamentoId.errors.required)}}function Wi(t,i){if(1&t&&(c.Rb(0,"option",33),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function Zi(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function te(t,i){if(1&t&&(c.Rb(0,"div",31),c.zc(1,Zi,2,0,"div",32),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function ie(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function ee(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function oe(t,i){if(1&t&&(c.Rb(0,"button",34),c.Mb(1,"i",35),c.zc(2,ie,2,0,"span",32),c.zc(3,ee,2,0,"span",32),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const se=function(t){return{"is-invalid":t}};function re(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Municipios"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Nombre"),c.Qb(),c.Mb(12,"input",21),c.zc(13,Gi,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Departamentos"),c.Qb(),c.Rb(17,"select",24),c.Rb(18,"option",25),c.Bc(19,"-- seleccione --"),c.Qb(),c.zc(20,Ki,2,2,"option",26),c.Qb(),c.zc(21,Yi,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(22,"div",18),c.Rb(23,"div",19),c.Rb(24,"label",27),c.Bc(25,"Estado"),c.Qb(),c.Rb(26,"select",28),c.Rb(27,"option",25),c.Bc(28,"-- seleccione --"),c.Qb(),c.zc(29,Wi,2,2,"option",26),c.Qb(),c.zc(30,te,2,1,"div",22),c.Qb(),c.Qb(),c.Mb(31,"div",18),c.Qb(),c.Rb(32,"div",29),c.zc(33,oe,4,2,"button",30),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(10,se,t.submitted&&t.f.Nombre.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Nombre.errors),c.zb(4),c.jc("ngClass",c.nc(12,se,t.submitted&&t.f.TCDepartamentoId.errors)),c.zb(3),c.jc("ngForOf",t.mDepartamentos),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCDepartamentoId.errors),c.zb(5),c.jc("ngClass",c.nc(14,se,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(3),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}let ne=(()=>{class t{constructor(t,i,e,o,s,r){this.modalService=t,this.service=i,this.serviceDepartamentos=e,this.formBuilder=o,this.toastr=s,this.state=r,this.submitted=!1,this.loading=!1,this.mDepartamentos=[],this.mForma=this.generarFormulario(),this.mMunicipios=[],this.mMunicipiosSelect=class{static empy(){return{id:0,Nombre:"",TCDepartamentoI:0,Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll(),this.getAllDepartamentos()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Nombre:["",n.n.required],Estado:["",n.n.required],TCDepartamentoId:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Nombre:t[0].Nombre,Estado:t[0].Estado,TCDepartamentoId:t[0].TCDepartamentoId}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Municipios")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mMunicipios=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Municipios"),this.loading=!1})}getAllDepartamentos(){this.loading=!0,this.serviceDepartamentos.AllPage().then(t=>{this.mDepartamentos=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Departamentos"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mMunicipiosSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mMunicipiosSelect).then(t=>{this.toastr.success(t.message,"Municipios"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Municipios")})}actualizar(t){this.loading=!0,this.service.Update(this.mMunicipiosSelect,t).then(i=>{this.toastr.success(i.message,"Municipios"),this.getDismissReason(""),this.mMunicipios=this.mMunicipios.map(e=>e.id===t?i:e),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Municipios")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(t=>{this.toastr.success(t.message,"Municipios"),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Municipios")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(p),c.Lb(u),c.Lb(n.b),c.Lb(y.b),c.Lb(z))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-municipios"]],decls:21,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Nombre"],["type","text","formControlName","Nombre","placeholder","David",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","TCDepartamentoId"],["name","Estado","formControlName","TCDepartamentoId",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(19);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Nombre"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Estado"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Creado"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"tbody"),c.zc(17,_i,22,7,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(18,re,34,16,"ng-template",null,5,c.Ac)}2&t&&(c.zb(17),c.jc("ngForOf",i.mMunicipios))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.d],styles:[""]}),t})();function ce(t,i){if(1&t){const t=c.Sb();c.Rb(0,"tr"),c.Rb(1,"th",6),c.Bc(2),c.Qb(),c.Rb(3,"td"),c.Bc(4),c.Qb(),c.Rb(5,"td"),c.Bc(6),c.ec(7,"number"),c.Qb(),c.Rb(8,"td"),c.Bc(9),c.Qb(),c.Rb(10,"td"),c.Bc(11),c.Qb(),c.Rb(12,"td"),c.Bc(13),c.ec(14,"date"),c.Qb(),c.Rb(15,"td"),c.Rb(16,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(23);return o.ver(s,e.id)}),c.Rb(17,"i",8),c.Bc(18," Ver"),c.Qb(),c.Qb(),c.Qb(),c.Rb(19,"td"),c.Rb(20,"a",9),c.Rb(21,"i",10),c.bc("click",function(){c.tc(t);const e=i.$implicit,o=c.dc(),s=c.sc(23);return o.modificar(s,e.id)}),c.Bc(22,"Actualizar"),c.Qb(),c.Qb(),c.Qb(),c.Rb(23,"td"),c.Rb(24,"a",7),c.bc("click",function(){c.tc(t);const e=i.$implicit;return c.dc().eliminar(e.id)}),c.Rb(25,"i",11),c.Bc(26," Eliminar"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=i.$implicit,e=i.index;c.zb(2),c.Cc(e+1),c.zb(2),c.Cc(t.Modelo),c.zb(2),c.Cc(c.gc(7,6,t.Precio,"1.2-2")),c.zb(3),c.Cc(t.Tipo),c.zb(2),c.Cc(t.Estado),c.zb(2),c.Cc(c.gc(14,9,t.Created_At,"dd/MM/yy"))}}function ae(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Modelo es requerido"),c.Qb())}function be(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,ae,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Modelo.errors?null:t.f.Modelo.errors.required)}}function le(t,i){if(1&t&&(c.Rb(0,"option",43),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Cc(t.Nombre)}}function de(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Marcas es Requerido"),c.Qb())}function me(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,de,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCMarcaId.errors.required)}}function he(t,i){if(1&t&&(c.Rb(0,"option",43),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.Nombre),c.zb(1),c.Cc(t.Nombre)}}function ue(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Estado es Requerido"),c.Qb())}function fe(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,ue,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.Estado.errors.required)}}function pe(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Precio es requerido"),c.Qb())}function ge(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,pe,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Precio.errors?null:t.f.Precio.errors.required)}}function ve(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Color es requerido"),c.Qb())}function Re(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,ve,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Color.errors?null:t.f.Color.errors.required)}}function Qe(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Tipo es requerido"),c.Qb())}function Ce(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,Qe,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Tipo.errors?null:t.f.Tipo.errors.required)}}function ze(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Traccion es requerido"),c.Qb())}function ye(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,ze,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",null==t.f.Traccion.errors?null:t.f.Traccion.errors.required)}}function Ee(t,i){if(1&t&&(c.Rb(0,"option",43),c.Bc(1),c.Qb()),2&t){const t=i.$implicit;c.jc("value",t.id),c.zb(1),c.Cc(t.Nombre)}}function Be(t,i){1&t&&(c.Rb(0,"div"),c.Bc(1," Concesionario es Requerido"),c.Qb())}function Ie(t,i){if(1&t&&(c.Rb(0,"div",41),c.zc(1,Be,2,0,"div",42),c.Qb()),2&t){const t=c.dc(2);c.zb(1),c.jc("ngIf",t.f.TCConcesionarioId.errors.required)}}function Fe(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1,"Crear"),c.Qb())}function je(t,i){1&t&&(c.Rb(0,"span"),c.Bc(1," Actualizar"),c.Qb())}function Se(t,i){if(1&t&&(c.Rb(0,"button",44),c.Mb(1,"i",45),c.zc(2,Fe,2,0,"span",42),c.zc(3,je,2,0,"span",42),c.Qb()),2&t){const t=c.dc(2);c.zb(2),c.jc("ngIf","1"===t.mFormaEstado),c.zb(1),c.jc("ngIf","3"===t.mFormaEstado)}}const Ae=function(t){return{"is-invalid":t}};function Ne(t,i){if(1&t){const t=c.Sb();c.Rb(0,"form",12),c.bc("ngSubmit",function(){return c.tc(t),c.dc().onSubmit()}),c.Rb(1,"div",13),c.Rb(2,"h4",14),c.Bc(3,"Marcas"),c.Qb(),c.Rb(4,"button",15),c.bc("click",function(){return i.$implicit.dismiss()}),c.Qb(),c.Rb(5,"span",16),c.Bc(6,"\xd7"),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Rb(8,"div",18),c.Rb(9,"div",19),c.Rb(10,"label",20),c.Bc(11,"Modelo"),c.Qb(),c.Mb(12,"input",21),c.zc(13,be,2,1,"div",22),c.Qb(),c.Rb(14,"div",19),c.Rb(15,"label",23),c.Bc(16,"Marcas"),c.Qb(),c.Rb(17,"select",24),c.Rb(18,"option",25),c.Bc(19,"-- seleccione --"),c.Qb(),c.zc(20,le,2,2,"option",26),c.Qb(),c.zc(21,me,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(22,"div",18),c.Rb(23,"div",19),c.Rb(24,"label",27),c.Bc(25,"Estado"),c.Qb(),c.Rb(26,"select",28),c.Rb(27,"option",25),c.Bc(28,"-- seleccione --"),c.Qb(),c.zc(29,he,2,2,"option",26),c.Qb(),c.zc(30,fe,2,1,"div",22),c.Qb(),c.Rb(31,"div",19),c.Rb(32,"label",29),c.Bc(33,"Precio"),c.Qb(),c.Mb(34,"input",30),c.zc(35,ge,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(36,"div",18),c.Rb(37,"div",19),c.Rb(38,"label",31),c.Bc(39,"Color"),c.Qb(),c.Mb(40,"input",32),c.zc(41,Re,2,1,"div",22),c.Qb(),c.Rb(42,"div",19),c.Rb(43,"label",33),c.Bc(44,"Tipo"),c.Qb(),c.Mb(45,"input",34),c.zc(46,Ce,2,1,"div",22),c.Qb(),c.Qb(),c.Rb(47,"div",18),c.Rb(48,"div",19),c.Rb(49,"label",35),c.Bc(50,"Traccion"),c.Qb(),c.Mb(51,"input",36),c.zc(52,ye,2,1,"div",22),c.Qb(),c.Rb(53,"div",19),c.Rb(54,"label",37),c.Bc(55,"Concesionario"),c.Qb(),c.Rb(56,"select",38),c.Rb(57,"option",25),c.Bc(58,"-- seleccione --"),c.Qb(),c.zc(59,Ee,2,2,"option",26),c.Qb(),c.zc(60,Ie,2,1,"div",22),c.Qb(),c.Qb(),c.Mb(61,"div",18),c.Mb(62,"div",18),c.Qb(),c.Rb(63,"div",39),c.zc(64,Se,4,2,"button",40),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.jc("formGroup",t.mForma),c.zb(12),c.jc("ngClass",c.nc(21,Ae,t.submitted&&t.f.Modelo.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Modelo.errors),c.zb(4),c.jc("ngClass",c.nc(23,Ae,t.submitted&&t.f.TCMarcaId.errors)),c.zb(3),c.jc("ngForOf",t.mMarcas),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCMarcaId.errors),c.zb(5),c.jc("ngClass",c.nc(25,Ae,t.submitted&&t.f.Estado.errors)),c.zb(3),c.jc("ngForOf",t.mEstado),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Estado.errors),c.zb(4),c.jc("ngClass",c.nc(27,Ae,t.submitted&&t.f.Precio.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Precio.errors),c.zb(5),c.jc("ngClass",c.nc(29,Ae,t.submitted&&t.f.Color.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Color.errors),c.zb(4),c.jc("ngClass",c.nc(31,Ae,t.submitted&&t.f.Tipo.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Tipo.errors),c.zb(5),c.jc("ngClass",c.nc(33,Ae,t.submitted&&t.f.Traccion.errors)),c.zb(1),c.jc("ngIf",t.submitted&&t.f.Traccion.errors),c.zb(4),c.jc("ngClass",c.nc(35,Ae,t.submitted&&t.f.TCConcesionarioId.errors)),c.zb(3),c.jc("ngForOf",t.mConcesionarios),c.zb(1),c.jc("ngIf",t.submitted&&t.f.TCConcesionarioId.errors),c.zb(4),c.jc("ngIf","1"===t.mFormaEstado||"3"===t.mFormaEstado)}}const Me=[{path:"",component:ki,children:[{path:"marcas",component:Xi},{path:"vehiculos",component:(()=>{class t{constructor(t,i,e,o,s,r,n){this.modalService=t,this.service=i,this.serviceMarcas=e,this.ServiceConcesionario=o,this.formBuilder=s,this.toastr=r,this.state=n,this.submitted=!1,this.loading=!1,this.mMarcas=[],this.mConcesionarios=[],this.mForma=this.generarFormulario(),this.mVehiculos=[],this.mVehiculosSelect=class{static empy(){return{id:0,Modelo:"",TCMarcaId:0,Precio:"",Color:"",Tipo:"",Traccion:"",TCConcesionarioId:0,Estado:"",Created_At:void 0}}}.empy(),this.mFormaEstado="4",this.mEstado=this.state.Estados(),this.Pkey=0}ngOnInit(){this.getAll(),this.getAllMarcas(),this.getAllConcesionarios()}get f(){return this.mForma.controls}generarFormulario(){return this.formBuilder.group({Modelo:["",n.n.required],Precio:["",n.n.required],Color:["",n.n.required],Estado:["",n.n.required],Tipo:["",n.n.required],Traccion:["",n.n.required],TCMarcaId:["",n.n.required],TCConcesionarioId:["",n.n.required]})}nuevo(t){this.modalService.open(t,{size:"lg"}),this.mFormaEstado="1"}ver(t,i){this.getXId(i),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="2",this.mForma.disable()}modificar(t,i){this.Pkey=i,this.mForma.enable(),this.getXId(this.Pkey),this.modalService.open(t,{size:"lg",centered:!0}),this.mFormaEstado="3"}getXId(t){this.loading=!0,this.service.AllXId(t).then(t=>{this.mForma.setValue({Modelo:t[0].Modelo,Precio:t[0].Precio,Color:t[0].Color,Tipo:t[0].Tipo,Traccion:t[0].Traccion,TCMarcaId:t[0].TCMarcaId,TCConcesionarioId:t[0].TCConcesionarioId,Estado:t[0].Estado}),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Vehiculos")})}getAll(){this.loading=!0,this.service.AllPage().then(t=>{this.mVehiculos=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Vehiculos"),this.loading=!1})}getAllMarcas(){this.loading=!0,this.serviceMarcas.AllPage().then(t=>{this.mMarcas=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Marcas"),this.loading=!1})}getAllConcesionarios(){this.loading=!0,this.ServiceConcesionario.AllPage().then(t=>{this.mConcesionarios=t,this.loading=!1}).catch(t=>{this.toastr.error(t.message,"Concesionarios"),this.loading=!1})}onSubmit(){this.submitted=!0,this.mForma.invalid||(this.mVehiculosSelect=this.mForma.value,"1"===this.mFormaEstado?this.guardar():"3"===this.mFormaEstado&&this.actualizar(this.Pkey))}guardar(){this.loading=!0,this.service.New(this.mVehiculosSelect).then(t=>{this.toastr.success(t.message,"Vehiculos"),this.mFormaEstado="4",this.getAll(),this.loading=!1,this.getDismissReason("")}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Vehiculos")})}actualizar(t){this.loading=!0,this.service.Update(this.mVehiculosSelect,t).then(t=>{this.toastr.success(t.message,"Vehiculos"),this.getDismissReason(""),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Vehiculos")})}eliminar(t){this.loading=!0,this.service.Delete(t).then(t=>{this.toastr.success(t.message,"Vehiculos"),this.getAll(),this.loading=!1}).catch(t=>{this.loading=!1,this.toastr.error(t.message,"Vehiculos")})}getDismissReason(t){return t===r.a.ESC?"by pressing ESC":t===r.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(i){return new(i||t)(c.Lb(r.b),c.Lb(f),c.Lb(h),c.Lb(R),c.Lb(n.b),c.Lb(y.b),c.Lb(z))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-vehiculos"]],decls:25,vars:1,consts:[["type","button","data-toggle","modal",1,"btn","btn-primary","btn-lg",3,"click"],[1,"mt-5"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["content","","customLoadingTemplate",""],["scope","row"],["href","javascript:void(0)",1,"text-muted",3,"click"],["title","Ver informaci\xf3n",1,"fa","fa-eye"],["href","javascript:void(0)",1,"text-muted"],["title","Modificar",1,"fa","fa-pencil",3,"click"],["title","Eliminar",1,"fa","fa-trash"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col"],["for","Modelo"],["type","text","formControlName","Modelo","placeholder","Modelo",1,"form-control",3,"ngClass"],["type","alert","class","invalid-feedback",4,"ngIf"],["for","TCMarcaId"],["name","Estado","formControlName","TCMarcaId",1,"form-control",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","Estado"],["name","Estado","formControlName","Estado",1,"form-control",3,"ngClass"],["for","Precio"],["type","text","formControlName","Precio","placeholder","Precio",1,"form-control",3,"ngClass"],["for","Color"],["type","text","formControlName","Color","placeholder","Color",1,"form-control",3,"ngClass"],["for","Tipo"],["type","text","formControlName","Tipo","placeholder","Tipo",1,"form-control",3,"ngClass"],["for","Traccion"],["type","text","formControlName","Traccion","placeholder","Traccion",1,"form-control",3,"ngClass"],["for","TCConcesionarioId"],["name","Estado","formControlName","TCConcesionarioId",1,"form-control",3,"ngClass"],[1,"modal-footer"],["style","margin: 5px","class","btn btn-outline-primary",4,"ngIf"],["type","alert",1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-outline-primary",2,"margin","5px"],[1,"fa","fa-save"]],template:function(t,i){if(1&t){const t=c.Sb();c.Rb(0,"button",0),c.bc("click",function(){c.tc(t);const e=c.sc(23);return i.nuevo(e)}),c.Bc(1,"Crear"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"table",2),c.Rb(4,"thead"),c.Rb(5,"tr"),c.Rb(6,"th",3),c.Bc(7,"#"),c.Qb(),c.Rb(8,"th",3),c.Bc(9,"Modelo"),c.Qb(),c.Rb(10,"th",3),c.Bc(11,"Precio"),c.Qb(),c.Rb(12,"th",3),c.Bc(13,"Tipo"),c.Qb(),c.Rb(14,"th",3),c.Bc(15,"Estado"),c.Qb(),c.Rb(16,"th",3),c.Bc(17,"Creado"),c.Qb(),c.Rb(18,"th",3),c.Bc(19,"Acciones"),c.Qb(),c.Qb(),c.Qb(),c.Rb(20,"tbody"),c.zc(21,ce,27,12,"tr",4),c.Qb(),c.Qb(),c.Qb(),c.zc(22,Ne,65,37,"ng-template",null,5,c.Ac)}2&t&&(c.zb(21),c.jc("ngForOf",i.mVehiculos))},directives:[o.l,n.o,n.i,n.d,n.a,n.h,n.c,o.k,o.m,n.m,n.k,n.p],pipes:[o.e,o.d],styles:[""]}),t})()},{path:"clientes",component:ft},{path:"departamentos",component:ai},{path:"cotizaciones",component:Ht},{path:"detalle",component:yi},{path:"concesionario",component:Mt},{path:"agentes",component:$},{path:"municipios",component:ne},{path:"detalle/:id",component:yi}]}];let ke=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[s.d.forChild(Me)],s.d]}),t})();var Te=e("qC+V");let De=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({providers:[],imports:[[o.b,ke,n.e,m,n.l,b.b,Te.a.forRoot({})]]}),t})()}}]);